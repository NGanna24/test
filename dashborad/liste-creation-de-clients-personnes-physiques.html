<!DOCTYPE html>
<html lang="en">

<head>
    <title>Adminty - Premium Admin Template by Colorlib </title>
    <!-- HTML5 Shim and Respond.js IE10 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 10]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
      <![endif]-->
    <!-- Meta -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="#">
    <meta name="keywords" content="Admin , Responsive, Landing, Bootstrap, App, Template, Mobile, iOS, Android, apple, creative app">
    <meta name="author" content="#">
    <!-- Favicon icon -->
    <link rel="icon" href="..\files\assets\images\favicon.ico" type="image/x-icon">
    <!-- Google font-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600" rel="stylesheet">
    <!-- Required Fremwork -->
    <link rel="stylesheet" type="text/css" href="..\files\bower_components\bootstrap\css\bootstrap.min.css">
    <!-- feather Awesome -->
    <link rel="stylesheet" type="text/css" href="..\files\assets\icon\feather\css\feather.css">
    <!-- Style.css -->
    <link rel="stylesheet" type="text/css" href="..\files\assets\css\style.css">
    <link rel="stylesheet" type="text/css" href="..\files\assets\css\jquery.mCustomScrollbar.css">
</head>

<body>
    <!-- Pre-loader start -->
    <div class="theme-loader">
        <div class="ball-scale">
            <div class='contain'>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
                <div class="ring">
                    <div class="frame"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- Pre-loader end -->
    <div id="pcoded" class="pcoded">
        <div class="pcoded-overlay-box"></div>
        <div class="pcoded-container navbar-wrapper">

            <nav class="navbar header-navbar pcoded-header">
                <div class="navbar-wrapper">

                    <div class="navbar-logo">
                        <a class="mobile-menu" id="mobile-collapse" href="#!">
                            <i class="feather icon-menu"></i>
                        </a>
                        <a href="index-1.htm">
                            <img class="img-fluid" src="..\files\assets\images\logo.png" alt="Theme-Logo" width = "75%">
                        </a>
                        <a class="mobile-options">
                            <i class="feather icon-more-horizontal"></i>
                        </a>
                    </div>

                    <div class="navbar-container container-fluid">
                        <ul class="nav-left">
                            <li class="header-search">
                                <div class="main-search morphsearch-search">
                                    <div class="input-group">
                                        <span class="input-group-addon search-close"><i class="feather icon-x"></i></span>
                                        <input type="text" class="form-control">
                                        <span class="input-group-addon search-btn"><i class="feather icon-search"></i></span>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <a href="#!" onclick="javascript:toggleFullScreen()">
                                    <i class="feather icon-maximize full-screen"></i>
                                </a>
                            </li>
                        </ul>
                        <ul class="nav-right">
                            <li class="header-notification">
                                <div class="dropdown-primary dropdown">
                                    <div class="dropdown-toggle" data-toggle="dropdown">
                                        <i class="feather icon-bell"></i>
                                        <span class="badge bg-c-pink">5</span>
                                    </div>
                                    <ul class="show-notification notification-view dropdown-menu" data-dropdown-in="fadeIn" data-dropdown-out="fadeOut">
                                        <li>
                                            <h6>Notifications</h6>
                                            <label class="label label-danger">New</label>
                                        </li>
                                        <li>
                                            <div class="media">
                                                <img class="d-flex align-self-center img-radius" src="..\files\assets\images\avatar-4.jpg" alt="Generic placeholder image">
                                                <div class="media-body">
                                                    <h5 class="notification-user">Soeng Souy</h5>
                                                    <p class="notification-msg">Lorem ipsum dolor sit amet, consectetuer elit.</p>
                                                    <span class="notification-time">30 minutes ago</span>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="media">
                                                <img class="d-flex align-self-center img-radius" src="..\files\assets\images\avatar-3.jpg" alt="Generic placeholder image">
                                                <div class="media-body">
                                                    <h5 class="notification-user">Joseph William</h5>
                                                    <p class="notification-msg">Lorem ipsum dolor sit amet, consectetuer elit.</p>
                                                    <span class="notification-time">30 minutes ago</span>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="media">
                                                <img class="d-flex align-self-center img-radius" src="..\files\assets\images\avatar-4.jpg" alt="Generic placeholder image">
                                                <div class="media-body">
                                                    <h5 class="notification-user">Sara Soudein</h5>
                                                    <p class="notification-msg">Lorem ipsum dolor sit amet, consectetuer elit.</p>
                                                    <span class="notification-time">30 minutes ago</span>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <li class="header-notification">
                                <div class="dropdown-primary dropdown">
                                    <div class="displayChatbox dropdown-toggle" data-toggle="dropdown">
                                        <i class="feather icon-message-square"></i>
                                        <span class="badge bg-c-green">3</span>
                                    </div>
                                </div>
                            </li>
                            <li class="user-profile header-notification">
                                <div class="dropdown-primary dropdown">
                                    <div class="dropdown-toggle" data-toggle="dropdown">
                                        <img src="..\files\assets\images\avatar-4.jpg" class="img-radius" alt="User-Profile-Image">
                                        <span>Soeng Souy</span>
                                        <i class="feather icon-chevron-down"></i>
                                    </div>
                                    <ul class="show-notification profile-notification dropdown-menu" data-dropdown-in="fadeIn" data-dropdown-out="fadeOut">
                                        <li>
                                            <a href="#!">
                                                <i class="feather icon-settings"></i> Settings
                                            </a>
                                        </li>
                                        <li>
                                            <a href="user-profile.htm">
                                                <i class="feather icon-user"></i> Profile
                                            </a>
                                        </li>
                                        <li>
                                            <a href="email-inbox.htm">
                                                <i class="feather icon-mail"></i> My Messages
                                            </a>
                                        </li>
                                        <li>
                                            <a href="auth-lock-screen.htm">
                                                <i class="feather icon-lock"></i> Lock Screen
                                            </a>
                                        </li>
                                        <li>
                                            <a href="auth-normal-sign-in.htm">
                                                <i class="feather icon-log-out"></i> Logout
                                            </a>
                                        </li>
                                    </ul>

                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>

            <!-- Sidebar chat start -->
            <div id="sidebar" class="users p-chat-user showChat">
                <div class="had-container">
                    <div class="card card_main p-fixed users-main">
                        <div class="user-box">
                            <div class="chat-inner-header">
                                <div class="back_chatBox">
                                    <div class="right-icon-control">
                                        <input type="text" class="form-control  search-text" placeholder="Search Friend" id="search-friends">
                                        <div class="form-icon">
                                            <i class="icofont icofont-search"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="main-friend-list">
                                <div class="media userlist-box" data-id="1" data-status="online" data-username="Josephin Doe" data-toggle="tooltip" data-placement="left" title="Josephin Doe">
                                    <a class="media-left" href="#!">
                                        <img class="media-object img-radius img-radius" src="..\files\assets\images\avatar-3.jpg" alt="Generic placeholder image ">
                                        <div class="live-status bg-success"></div>
                                    </a>
                                    <div class="media-body">
                                        <div class="f-13 chat-header">Soeng Souy</div>
                                    </div>
                                </div>
                                <div class="media userlist-box" data-id="2" data-status="online" data-username="Lary Doe" data-toggle="tooltip" data-placement="left" title="Lary Doe">
                                    <a class="media-left" href="#!">
                                        <img class="media-object img-radius" src="..\files\assets\images\avatar-2.jpg" alt="Generic placeholder image">
                                        <div class="live-status bg-success"></div>
                                    </a>
                                    <div class="media-body">
                                        <div class="f-13 chat-header">Lary Doe</div>
                                    </div>
                                </div>
                                <div class="media userlist-box" data-id="3" data-status="online" data-username="Alice" data-toggle="tooltip" data-placement="left" title="Alice">
                                    <a class="media-left" href="#!">
                                        <img class="media-object img-radius" src="..\files\assets\images\avatar-4.jpg" alt="Generic placeholder image">
                                        <div class="live-status bg-success"></div>
                                    </a>
                                    <div class="media-body">
                                        <div class="f-13 chat-header">Alice</div>
                                    </div>
                                </div>
                                <div class="media userlist-box" data-id="4" data-status="online" data-username="Alia" data-toggle="tooltip" data-placement="left" title="Alia">
                                    <a class="media-left" href="#!">
                                        <img class="media-object img-radius" src="..\files\assets\images\avatar-3.jpg" alt="Generic placeholder image">
                                        <div class="live-status bg-success"></div>
                                    </a>
                                    <div class="media-body">
                                        <div class="f-13 chat-header">Alia</div>
                                    </div>
                                </div>
                                <div class="media userlist-box" data-id="5" data-status="online" data-username="Suzen" data-toggle="tooltip" data-placement="left" title="Suzen">
                                    <a class="media-left" href="#!">
                                        <img class="media-object img-radius" src="..\files\assets\images\avatar-2.jpg" alt="Generic placeholder image">
                                        <div class="live-status bg-success"></div>
                                    </a>
                                    <div class="media-body">
                                        <div class="f-13 chat-header">Suzen</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Sidebar inner chat start-->
            <div class="showChat_inner">
                <div class="media chat-inner-header">
                    <a class="back_chatBox">
                        <i class="feather icon-chevron-left"></i> Josephin Doe
                    </a>
                </div>
                <div class="media chat-messages">
                    <a class="media-left photo-table" href="#!">
                        <img class="media-object img-radius img-radius m-t-5" src="..\files\assets\images\avatar-3.jpg" alt="Generic placeholder image">
                    </a>
                    <div class="media-body chat-menu-content">
                        <div class="">
                            <p class="chat-cont">I'm just looking around. Will you tell me something about yourself?</p>
                            <p class="chat-time">8:20 a.m.</p>
                        </div>
                    </div>
                </div>
                <div class="media chat-messages">
                    <div class="media-body chat-menu-reply">
                        <div class="">
                            <p class="chat-cont">I'm just looking around. Will you tell me something about yourself?</p>
                            <p class="chat-time">8:20 a.m.</p>
                        </div>
                    </div>
                    <div class="media-right photo-table">
                        <a href="#!">
                            <img class="media-object img-radius img-radius m-t-5" src="..\files\assets\images\avatar-4.jpg" alt="Generic placeholder image">
                        </a>
                    </div>
                </div>
                <div class="chat-reply-box p-b-20">
                    <div class="right-icon-control">
                        <input type="text" class="form-control search-text" placeholder="Share Your Thoughts">
                        <div class="form-icon">
                            <i class="feather icon-navigation"></i>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Sidebar inner chat end-->
            <div class="pcoded-main-container">
                <div class="pcoded-wrapper" >


                    <nav class="pcoded-navbar" id="sidebar-container">

                    </nav>

                    
                    <div class="pcoded-content">
                        <div class="pcoded-inner-content">
<div class="main-body">
    <div class="page-wrapper">
        <!-- Page-header start -->
        <div class="page-header">
            <div class="row align-items-end">
                <div class="col-lg-8">
                    <div class="page-header-title">
                        <div class="d-inline">
                            <h4>Clients / Membres - Personne Physique</h4>
                            <span>Gestion des clients personnes physiques</span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="page-header-breadcrumb">
                        <ul class="breadcrumb-title">
                            <li class="breadcrumb-item">
                                <a href="index-1.htm"> <i class="feather icon-home"></i> </a>
                            </li>
                            <li class="breadcrumb-item"><a href="#!">Client/Membre</a></li>
                            <li class="breadcrumb-item"><a href="#!">Personne Physique</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- Page-header end -->

        <!-- Page-body start -->
        <div class="page-body">
            <div class="card">
                <div class="card-header">
                    <h5>Liste des Clients Personnes Physiques</h5>
                    <div class="card-header-right">
                        <button class="btn btn-primary btn-sm" id="btnAddClient">
                            <i class="fa fa-plus"></i> Nouveau Client
                        </button>
                    </div>
                </div>
                <div class="card-block">
                    <!-- Filtres -->
                    <div class="row mb-3">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Code Client</label>
                                <input type="text" class="form-control" placeholder="Rechercher par code">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Nom & Prénom(s)</label>
                                <input type="text" class="form-control" placeholder="Rechercher par nom">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Période</label>
                                <div class="input-daterange input-group">
                                    <input type="date" class="form-control" name="start">
                                    <span class="input-group-addon bg-primary b-0 text-white">Au</span>
                                    <input type="date" class="form-control" name="end">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tableau des clients -->
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover" id="clientsTable">
                            <thead class="thead-light">
                                <tr>
                                    <th>N° CLIENT</th>
                                    <th>NOM</th>
                                    <th>PRÉNOM(S)</th>
                                    <th>NÉ(E) LE</th>
                                    <th>LIEU DE NAISSANCE</th>
                                    <th>DATE CREATION</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-id="00004210">
                                    <td>00004210</td>
                                    <td>DJASSI</td>
                                    <td>SARMI ERNEST</td>
                                    <td>21/12/1991</td>
                                    <td>APPROPRIOINOU</td>
                                    <td>11/04/2013</td>
                                </tr>
                                <tr data-id="00004211">
                                    <td>00004211</td>
                                    <td>KOKE</td>
                                    <td>KATA</td>
                                    <td>19/10/1988</td>
                                    <td>MARCONY</td>
                                    <td>11/04/2013</td>
                                </tr>
                                <tr data-id="00004212">
                                    <td>00004212</td>
                                    <td>LOLKOU</td>
                                    <td>NGUESSAN BERNADETTE</td>
                                    <td>01/01/1982</td>
                                    <td>YARPARO</td>
                                    <td>11/04/2013</td>
                                </tr>
                                <tr data-id="00004213">
                                    <td>00004213</td>
                                    <td>NOVENGA</td>
                                    <td>ADANA</td>
                                    <td>01/01/1987</td>
                                    <td>POSTENCIA/RISSIGA/BOULGOU</td>
                                    <td>11/04/2013</td>
                                </tr>
                                <tr data-id="00004219">
                                    <td>00004219</td>
                                    <td>VAO</td>
                                    <td>NGUESSAN SOLANGE</td>
                                    <td>17/06/1978</td>
                                    <td>TAHAKRO</td>
                                    <td>11/04/2013</td>
                                </tr>
                                <tr data-id="00004220">
                                    <td>00004220</td>
                                    <td>VEO</td>
                                    <td>NALOUROU KARIM</td>
                                    <td>30/12/1975</td>
                                    <td>NAMOUOKANA</td>
                                    <td>11/04/2013</td>
                                </tr>
                                <tr data-id="00004221">
                                    <td>00004221</td>
                                    <td>BIA</td>
                                    <td>THEODORE</td>
                                    <td>12/05/1969</td>
                                    <td>MAN</td>
                                    <td>11/04/2013</td>
                                </tr>
                                <tr data-id="00004222">
                                    <td>00004222</td>
                                    <td>NORI</td>
                                    <td>KONAN</td>
                                    <td>13/08/1943</td>
                                    <td>IYDAYAKRO</td>
                                    <td>11/04/2013</td>
                                </tr>
                                <tr data-id="00004214">
                                    <td>00004214</td>
                                    <td>N'GORAN</td>
                                    <td>NGUESSAN EMMANJEL</td>
                                    <td>20/12/1978</td>
                                    <td>HERMAKONO/DIVO</td>
                                    <td>11/04/2013</td>
                                </tr>
                                <tr data-id="00004215">
                                    <td>00004215</td>
                                    <td>OLEDRAOGO</td>
                                    <td>RASMANE</td>
                                    <td>01/01/1971</td>
                                    <td>BITTOU SECTEUR 2</td>
                                    <td>11/04/2013</td>
                                </tr>
                                <tr data-id="00004216">
                                    <td>00004216</td>
                                    <td>SAWADOGO</td>
                                    <td>LARBA MOUSTAPHA</td>
                                    <td>01/01/1966</td>
                                    <td>GARGOLINA</td>
                                    <td>11/04/2013</td>
                                </tr>
                                <tr data-id="00004217">
                                    <td>00004217</td>
                                    <td>SYLLA</td>
                                    <td>BROLLAYE</td>
                                    <td>08/11/1985</td>
                                    <td>TIEME</td>
                                    <td>11/04/2013</td>
                                </tr>
                                <tr data-id="00004218">
                                    <td>00004218</td>
                                    <td>TIEME</td>
                                    <td>KOUASSI</td>
                                    <td>30/11/1982</td>
                                    <td>KPESSO</td>
                                    <td>11/04/2013</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Boutons d'action -->
                    <div class="text-right mt-3">
                        <button class="btn btn-secondary mr-2" id="btnModifier">
                            <i class="fa fa-edit"></i> Modifier
                        </button>
                        <button class="btn btn-success" id="btnEnregistrer" disabled>
                            <i class="fa fa-save"></i> Enregistrer
                        </button>
                        <button class="btn btn-danger ml-2" id="btnSupprimer" disabled>
                            <i class="fa fa-trash"></i> Supprimer
                        </button>
                        <button class="btn btn-info ml-2" id="btnImprimer">
                            <i class="fa fa-print"></i> Imprimer
                        </button>
                        <button class="btn btn-warning ml-2" id="btnAnnuler">
                            <i class="fa fa-times"></i> Annuler
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Page-body end -->
    </div>
</div>

<!-- Modal pour ajouter/modifier un client -->
<div class="modal fade" id="clientModal" tabindex="-1" role="dialog" aria-labelledby="clientModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="clientModalLabel">Nouveau Client - Personne Physique</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="clientForm">
                    <input type="hidden" id="clientId">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="clientCode">N° Client</label>
                                <input type="text" class="form-control" id="clientCode" readonly>
                            </div>
                            <div class="form-group">
                                <label for="clientNom">Nom *</label>
                                <input type="text" class="form-control" id="clientNom" required>
                            </div>
                            <div class="form-group">
                                <label for="clientPrenom">Prénom(s) *</label>
                                <input type="text" class="form-control" id="clientPrenom" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="clientDateNaissance">Né(e) le *</label>
                                <input type="date" class="form-control" id="clientDateNaissance" required>
                            </div>
                            <div class="form-group">
                                <label for="clientLieuNaissance">Lieu de naissance *</label>
                                <input type="text" class="form-control" id="clientLieuNaissance" required>
                            </div>
                            <div class="form-group">
                                <label for="clientDateCreation">Date création</label>
                                <input type="date" class="form-control" id="clientDateCreation" readonly>
                            </div>
                        </div>
                    </div>
                    <!-- Informations supplémentaires -->
                    <div class="additional-info mt-3" style="display: none;">
                        <h5>Informations complémentaires</h5>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="clientCni">Numéro CNI</label>
                                    <input type="text" class="form-control" id="clientCni">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="clientAdresse">Adresse</label>
                                    <input type="text" class="form-control" id="clientAdresse">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="clientTelephone">Téléphone</label>
                                    <input type="tel" class="form-control" id="clientTelephone">
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
                <button type="button" class="btn btn-primary" id="btnSaveClient">Enregistrer</button>
            </div>
        </div>
    </div>
</div>

<script>
$(document).ready(function() {
    let currentClientId = null;
    let isEditMode = false;

    // Ouvrir le modal pour création
    $('#btnAddClient').click(function() {
        currentClientId = null;
        isEditMode = false;
        $('#clientForm')[0].reset();
        $('#clientModalLabel').text('Nouveau Client - Personne Physique');
        $('#clientCode').val(generateClientCode());
        $('#clientDateCreation').val(new Date().toISOString().split('T')[0]);
        $('.additional-info').hide();
        $('#clientModal').modal('show');
    });

    // Gérer la sélection dans le tableau
    $('#clientsTable tbody').on('click', 'tr', function() {
        $('#clientsTable tbody tr').removeClass('selected');
        $(this).addClass('selected');
        currentClientId = $(this).data('id');
        $('#btnModifier').prop('disabled', false);
        $('#btnSupprimer').prop('disabled', false);
    });

    // Modifier un client
    $('#btnModifier').click(function() {
        if (!currentClientId) return;
        
        const row = $(`#clientsTable tbody tr[data-id="${currentClientId}"]`);
        const cells = row.find('td');
        
        isEditMode = true;
        $('#clientModalLabel').text('Modifier Client - Personne Physique');
        $('#clientId').val(currentClientId);
        $('#clientCode').val(cells.eq(0).text());
        $('#clientNom').val(cells.eq(1).text());
        $('#clientPrenom').val(cells.eq(2).text());
        $('#clientDateNaissance').val(formatDateForInput(cells.eq(3).text()));
        $('#clientLieuNaissance').val(cells.eq(4).text());
        $('#clientDateCreation').val(formatDateForInput(cells.eq(5).text()));
        $('.additional-info').show();
        $('#clientModal').modal('show');
    });

    // Enregistrer un client
    $('#btnSaveClient').click(function() {
        if ($('#clientForm')[0].checkValidity()) {
            const clientData = {
                code: $('#clientCode').val(),
                nom: $('#clientNom').val(),
                prenom: $('#clientPrenom').val(),
                dateNaissance: $('#clientDateNaissance').val(),
                lieuNaissance: $('#clientLieuNaissance').val(),
                dateCreation: $('#clientDateCreation').val()
            };

            if (isEditMode) {
                // Mettre à jour la ligne existante
                const row = $(`#clientsTable tbody tr[data-id="${currentClientId}"]`);
                const cells = row.find('td');
                cells.eq(1).text(clientData.nom);
                cells.eq(2).text(clientData.prenom);
                cells.eq(3).text(formatDateForDisplay(clientData.dateNaissance));
                cells.eq(4).text(clientData.lieuNaissance);
                
                showAlert('Client modifié avec succès', 'success');
            } else {
                // Ajouter une nouvelle ligne
                const newRow = `
                    <tr data-id="${clientData.code}">
                        <td>${clientData.code}</td>
                        <td>${clientData.nom}</td>
                        <td>${clientData.prenom}</td>
                        <td>${formatDateForDisplay(clientData.dateNaissance)}</td>
                        <td>${clientData.lieuNaissance}</td>
                        <td>${formatDateForDisplay(clientData.dateCreation)}</td>
                    </tr>
                `;
                $('#clientsTable tbody').append(newRow);
                showAlert('Nouveau client créé avec succès', 'success');
            }
            
            $('#clientModal').modal('hide');
        } else {
            $('#clientForm')[0].reportValidity();
        }
    });

    // Supprimer un client
    $('#btnSupprimer').click(function() {
        if (!currentClientId) return;
        
        if (confirm('Voulez-vous vraiment supprimer ce client ?')) {
            $(`#clientsTable tbody tr[data-id="${currentClientId}"]`).remove();
            currentClientId = null;
            $('#btnModifier').prop('disabled', true);
            $('#btnSupprimer').prop('disabled', true);
            showAlert('Client supprimé avec succès', 'success');
        }
    });

    // Helper functions
    function generateClientCode() {
        const lastCode = $('#clientsTable tbody tr:last td:first').text();
        return lastCode ? String(parseInt(lastCode) + 1).padStart(8, '0') : '00000001';
    }

    function formatDateForDisplay(dateString) {
        if (!dateString) return '';
        const date = new Date(dateString);
        return date.toLocaleDateString('fr-FR');
    }

    function formatDateForInput(dateString) {
        if (!dateString) return '';
        const parts = dateString.split('/');
        return `${parts[2]}-${parts[1]}-${parts[0]}`;
    }

    function showAlert(message, type) {
        const alert = $(`
            <div class="alert alert-${type} alert-dismissible fade show" role="alert">
                ${message}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        `);
        $('.card-block').prepend(alert);
        setTimeout(() => alert.alert('close'), 3000);
    }
});
</script>

<style>
    #clientsTable tbody tr {
        cursor: pointer;
    }
    
    #clientsTable tbody tr.selected {
        background-color: #e6f7ff;
    }
    
    #clientsTable tbody tr:hover {
        background-color: #f5f5f5;
    }
    
    .input-daterange .input-group-addon {
        width: auto;
        min-width: 40px;
        display: inline-block;
        text-align: center;
    }
    
    .modal-header {
        background-color: #f8f9fa;
        border-bottom: 1px solid #dee2e6;
    }
    
    .form-group {
        margin-bottom: 1rem;
    }
    
    .additional-info {
        border-top: 1px solid #eee;
        padding-top: 15px;
    }
</style>


                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
 <script src="sidebar.js"></script>
    <script data-cfasync="false" src="..\..\..\cdn-cgi\scripts\5c5dd728\cloudflare-static\email-decode.min.js"></script><script type="text/javascript" src="..\files\bower_components\jquery\js\jquery.min.js"></script>
    <script type="text/javascript" src="..\files\bower_components\jquery-ui\js\jquery-ui.min.js"></script>
    <script type="text/javascript" src="..\files\bower_components\popper.js\js\popper.min.js"></script>
    <script type="text/javascript" src="..\files\bower_components\bootstrap\js\bootstrap.min.js"></script>
    <!-- jquery slimscroll js -->
    <script type="text/javascript" src="..\files\bower_components\jquery-slimscroll\js\jquery.slimscroll.js"></script>
    <!-- modernizr js -->
    <script type="text/javascript" src="..\files\bower_components\modernizr\js\modernizr.js"></script>
    <!-- Chart js -->
    <script type="text/javascript" src="..\files\bower_components\chart.js\js\Chart.js"></script>
    <!-- amchart js -->
    <script src="..\files\assets\pages\widget\amchart\amcharts.js"></script>
    <script src="..\files\assets\pages\widget\amchart\serial.js"></script>
    <script src="..\files\assets\pages\widget\amchart\light.js"></script>
    <script src="..\files\assets\js\jquery.mCustomScrollbar.concat.min.js"></script>
    <script type="text/javascript" src="..\files\assets\js\SmoothScroll.js"></script>
    <script src="..\files\assets\js\pcoded.min.js"></script>
    <!-- custom js -->
    <script src="..\files\assets\js\vartical-layout.min.js"></script>
    <script type="text/javascript" src="..\files\assets\pages\dashboard\custom-dashboard.js"></script>
    <script type="text/javascript" src="..\files\assets\js\script.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-23581568-13"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-23581568-13');
</script>
</body>

</html>
